---
layout: post
menubar: cs_menu
date: 2022-12-17 17:51:00 +0900
title: 프로그램이 사용하는 메모리 영역 Code, Data, Stack, Heap
subtitle: 그러니까...
categories: property-observer
description: "클래스명, 변수명등을 손쉽게 바꾸는 단축키"
published: true
---

프로그램은 컴퓨터의 어디에 저장될까요? 정답은 하드디스크!<br>
그렇다면 프로그램은 어디서 실행될까요? 바로 메모리입니다.

일단 하드디스크에서 프로그램 정보를 읽어 메모리에 로드되는 것이죠.<br>
이때 운영체제는 프로그램에 메모리를 할당해주는데, 클래스에 할당할 공간, 변수에 할당할 공간, 함수에 할당할 공간등이 정해집니다. 그 공간들이 바로 `Code`, `Data`, `Stack`, `Heap` 영역인 것입니다.

각 영역들을 살펴볼게요!

## Code
이른바 텍스트 영역이라고 해서 개발자가 작성한 소스코드가 저장되는 공간입니다.<br>
명령문이 저장되는 공간이라고 생각하시면 편할 것 같은데요, 함수, 상수, 제어문등이 이에 속합니다.

## Data
전역/정적 변수들이 저장되는 공간이라고 볼 수 있습니다. 한번 선언되면 프로그램이 종료될 때까지 남아있는, 말 그대로 '데이터'를 저장하는 영익인셈이죠.<br>
데이터 영역은 프로그램의 시작과 함께 할당되고 종료시 해제됩니다.

## Stack
선입선출(LIFO, Last In, First Out)의 방식으로 많이 알려져 있는 이 Stack영역은 지역/매개변수가 저장되는 공간입니다. 함수가 호출될 때 할당되며 함수가 종료되면 해제되죠. 또한 각 함수마다 공간을 할당받게 되기 때문에 다른 함수의 변수에 대한 존재여부를 알지 못하는 이유가 여기에 있습니다.

## Heap
개발자가 직접 메모리를 할당했을 때 저장되는 영역입니다.<br>
그러니까 개발자가 직접 관리할 수 있는 메모리 영역인 것이죠. 이를테면 C언어등에서는 malloc등으로 동적으로 메모리를 할당할 수 있습니다. 그리고 개발자가 직접 그 메모리를 해제해야만 합니다. 이렇게 관리할 수 있는 공간인데, iOS앱의 경우 즉, Swift는 ARC(Automatic Reference Counting)라는 메모리 관리 모델이 있어 특별히 신경쓸 필요가 없는 부분입니다. 하지만 내부적으로는 Class, Struct등 객체를 생성하거나 소멸할 때 Heap영역에 저장된 다는 것!

![OS에서 제공하는 메모리 공간](/img/2022-12-17/memory_area.png)
_Heap과 Stack은 같은 메모리를 공유하면서 각 공간을 침범하면 Overflow가 발생한다_